<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>FriendShip</title>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <link rel="stylesheet" th:href="@{/css/left.css}">
    <link rel="stylesheet" th:href="@{/css/footer.css}">
    <link rel="stylesheet" th:href="@{/css/friendship.css}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>
<body>
    <div th:insert="~{common/user/template_user.html::header}"></div>
    <div th:insert="~{common/user/template_user.html::user-left}">
    
    </div>
    <section>
        <p th:text="${type_friendship}"></p>
        <div th:if="${type_friendship == 'ACCEPTED'}">
            <h2 id="list-title">Tất cả bạn bè</h2>
            <div class="container1"> 
                <div th:if="${length1 > 0}">
                    <div class="list-friends" th:each="i: ${#numbers.sequence(0, length1-1)}">
                        <div class="card" style="width: 18rem;">
                            <img src="..." class="card-img-top" alt="...">
                            <div class="card-body">
                                <p class="card-text" th:text="${user2_profile[i].get().firstName+ ' ' +user2_profile[i].get().lastName}"></p>
                            </div>
                        </div>
                    </div>
                </div>  
            </div>
        </div>
        <div th:if="${type_friendship == 'REQUESTED'}">
            <h2 id="list-title">Lời mời kết bạn</h2>
            
            <div class="container1"> 
                <div th:if="${length2 > 0}">
                    <div class="list-friends" th:each="i: ${#numbers.sequence(0, length2-1)}">
                        <div class="card" style="width: 18rem;">
                            <img src="..." class="card-img-top" alt="...">
                            <div class="card-body">
                                <p class="card-text" th:text="${user2_profile[i].get().firstName+ ' ' +user2_profile[i].get().lastName}"></p>
                              <a href="#" class="btn btn-primary">Chấp nhận</a>
                              <a href="#" class="btn btn-primary">Xóa</a>
                            </div>
                          </div>
                    </div> 
                </div>
            </div>
        </div>
    </section>
    <script th:src="@{/css/friendship.js}"></script>
    <!-- <script>
        $(document).ready(function() {
        function init_button() {
            var buttons = '<button type="button" class="btn btn-primary" id="all-friend">Tất cả bạn bè</button>'
                        + '<button type="button" class="btn btn-primary" id="all-requested">Lời mời kết bạn</button>'
            $(".btn-group-vertical").append(buttons)
        }
        init_button();
        $("#all-requested").click(function() {
            window.location = "http://localhost:1999/friendships/friend_requested/1"
        });
        $("#all-friend").click(function() {
            window.location = "http://localhost:1999/friendships/friend/1"
        });
    })
    </script> -->
    <script th:if="${type_friendship == 'ACCEPTED'}" th:inline="javascript">
        $(document).ready(function() {
            $("#all-friend").css("background-color", "#0d6efd");
        });
    </script>
    <script th:if="${type_friendship == 'REQUESTED'}" th:inline="javascript">
        $(document).ready(function() {
            $("#all-requested").css("background-color", "#0d6efd");
        });
    </script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <div th:insert="~{common/user/template_user.html::footer}"></div>
</body>
</html>
